<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta title="eSDE-notes">
    <title>eSDE-notes</title>

    <link rel="alternate" type="application/atom+xml" title="Notes collected during development, work, learning..." href="/atom.xml">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="">
    <meta name="google-site-verification" content="A8chtL3v4vPM3jRZZVlCtwpChyjii_n7C9bifQOfYzg" />
    <link rel="shortcut icon" href="https://mateuszmyalski.github.io/theme/favicon.png" type="image/x-icon">
    <link rel="icon" href="https://mateuszmyalski.github.io/theme/favicon.png" type="image/x-icon">

    <meta name="description" content="Notes collected during development, work, learning..." />

    <link rel="stylesheet" type="text/css" href="https://mateuszmyalski.github.io/theme/css/style.css" />

</head>

<body>
    <header>
        <hgroup>
            <h1>
                <a href="https://mateuszmyalski.github.io/index.html">eSDE-notes</a>
            </h1>
            <p>Notes collected during development, work, learning...</p>
        </hgroup>

        <nav>
            <li>
                <a href="https://mateuszmyalski.github.io/pages/blogroll.html">Blogroll</a>
            </li>
            <li>
                <a href="https://mateuszmyalski.github.io/pages/compendium.html">Compendium</a>
            </li>
            <li>
                <a href="https://mateuszmyalski.github.io/pages/projects.html">Projects</a>
            </li>
            <li>
                <a href="https://github.com/MateuszMyalski">GitHub</a>
            </li>
            <li>
                <a href="atom.xml">RSS</a>
            </li>
        </nav>

    </header>

    <main>

<section class="post">
    <h1>VSCode Automatyzacja i tworzenie Makefile</h1>
<p>Automatyzacja kompilacji programÃ³w napisanych w jÄ™zyku C, lub dostÄ™p do debuggera potrafi byÄ‡ nieocenione, gdy potrzebujemy przetestowaÄ‡ krÃ³tki program na naszym komputerze. NiektÃ³re opisy, w jaki sposÃ³b pisaÄ‡ proste Makefile potrafiÄ… przysporzyÄ‡ bÃ³le gÅ‚owy, a integracja z VSCode zawsze byÅ‚a dla mnie zagadkÄ…. W tym wpisie, postaram siÄ™ wyjaÅ›niÄ‡ jak w prosty sposÃ³b napisaÄ‡ Makefile i zautomatyzowaÄ‡ kompilacjÄ™ i debuggowanie w VSCode.</p>
<p>Przyjmijmy, Å¼e nasz folder projektowy ma nastÄ™pujÄ…cÄ… strukturÄ™:</p>
<ul>
<li>ProjectFolder</li>
<li>main.c</li>
<li>utilfunc.c</li>
<li>utilfunc.h</li>
<li>build</li>
</ul>
<h2>1. Tworzenie Makefile</h2>
<p>W tym rozdziale skupimy siÄ™ na nauce pisania prostego Makefile, czyli pseudo-skryptu, ktÃ³ry przetÅ‚umaczy nasze pliki napisane w jÄ™zyku C, na pliki z rozszerzeniem .o, a nastÄ™pnie poÅ‚Ä…czy wszystkie wynikowe pliki w caÅ‚oÅ›Ä‡ - w gotowy .exe. Dodatkowo w MakeFile moÅ¼emy podaÄ‡ komendy, ktÃ³re nasz system ma po sobie wykonaÄ‡ np. czyszczenie projektu.</p>
<p>Pliki MakeFile moÅ¼emy wykonaÄ‡ korzystajÄ…c z polecenia:
<code>mingw32-make (nazwa pliku Makefile) (Etykieta podprogramu)</code></p>
<div class="highlight"><pre><span></span><code>mingw32-make Makefile main
</code></pre></div>

<p>Wiemy juÅ¼ jak wykonaÄ‡ to co napiszemy, przejdÅºmy teraz do wyjaÅ›nienia co po kolei naleÅ¼y zawrzeÄ‡ w pliku <code>Makefile</code></p>
<p>Plik Makefile powinien zaczynaÄ‡ siÄ™ od nagÅ‚Ã³wka komentujÄ…cego</p>
<p><code># -*- MakeFile -*-</code>
Warto zaznaczyÄ‡, Å¼e znaki biaÅ‚e sÄ… dosyÄ‡ istotne w tego typu plikÃ³w.</p>
<p>NastÄ™pnie okreÅ›lmy parÄ™ zmiennych, ktÃ³re uÅ‚atwiÄ… nam uniwersalizacjÄ™ poleceÅ„ wydawanych kompilatorowi.</p>
<div class="highlight"><pre><span></span><code><span class="c"># -*- MakeFile -*-</span>
<span class="nv">CC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>gcc#Informacja<span class="w"> </span>o<span class="w"> </span>tym,<span class="w"> </span>jakiego<span class="w"> </span>kompilatora<span class="w"> </span>uÅ¼ywamy
<span class="nv">BUILDPATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>build#ÅšcieÅ¼ka<span class="w"> </span><span class="k">do</span><span class="w"> </span>folderu,<span class="w"> </span>gdzie<span class="w"> </span>bÄ™dÄ…<span class="w"> </span>generowane<span class="w"> </span>pliki<span class="w"> </span>.o
<span class="nv">OUTFILENAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>main#Nazwa<span class="w"> </span>koÅ„cowego<span class="w"> </span>pliku<span class="w"> </span>.exe
<span class="nv">FLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-Wall#Flagi<span class="w"> </span>dla<span class="w"> </span>kompilatora
<span class="nv">DEBUGFLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-g<span class="w"> </span>-Wall#Flagi<span class="w"> </span>dla<span class="w"> </span>kompilatora<span class="w"> </span>w<span class="w"> </span>przypadku<span class="w"> </span>korzystania<span class="w"> </span>z<span class="w"> </span>debugera
</code></pre></div>

<p>Aby odwoÅ‚aÄ‡ siÄ™ potem do zmiennych wpisujemy: <code>$(nazwa_zmiennej)</code>.
<em>ZauwaÅ¼, Å¼e komentarze rozpoczynane sÄ… znakiem # stawianej zaraz po zakoÅ„czeniu zmiennej. W przypadku, gdy dodasz tam inne znaki np. tab rÃ³wnieÅ¼ zostanÄ… przepisane do miejsca odwoÅ‚ania do zmiennej.</em></p>
<p>Zacznijmy pisaÄ‡ pierwszÄ… zaleÅ¼noÅ›Ä‡. Struktura podprogramÃ³w wyglÄ…da nastÄ™pujÄ…co:</p>
<div class="highlight"><pre><span></span><code><span class="nf">etykieta</span><span class="o">:</span><span class="w"> </span><span class="n">zale</span>Å¼<span class="n">no</span>Å›<span class="n">ci</span>
<span class="w">    </span>instrukcje<span class="w"> </span><span class="k">do</span><span class="w"> </span>wykonania
</code></pre></div>

<p>Etykieta, jak sama nazwa wskazuje - nazywa dany blok skryptu. ZaleÅ¼noÅ›ci okreÅ›lajÄ… nam, jakie podprogramy muszÄ… zostaÄ‡ wykonane wczeÅ›niej, nim przejdziemy do wykonywania instrukcji. PrzybliÅ¼my do przykÅ‚adem.
Wykonujemy polecenie <code>mingw32-make Makefile AAA</code>, w pliku make mamy nastÄ™pujÄ…cy kod:</p>
<div class="highlight"><pre><span></span><code><span class="c"># -*- MakeFile -*-</span>
<span class="nf">AAA</span><span class="o">:</span><span class="w"> </span><span class="n">BBB</span>.<span class="n">o</span> <span class="n">CCC</span>.<span class="n">o</span>
<span class="w">    </span>instrukcja1
<span class="nf">BBB.o</span><span class="o">:</span><span class="w"> </span><span class="n">BBB</span>.<span class="n">c</span>
<span class="w">    </span>instrukcja2
<span class="nf">CCC.o</span><span class="o">:</span><span class="w"> </span><span class="n">CCC</span>.<span class="n">c</span>
<span class="w">    </span>instrukcja3
</code></pre></div>

<p>WywoÅ‚ujemy poczÄ…tkowo etykietÄ™ AAA, podprogram ten ma dwie zaleÅ¼noÅ›ci BBB.o i CCC.o. Oznacza to, Å¼e nim wykonamy instrukcjÄ™ 1, musimy najpierw wykonaÄ‡ dwa podane podprogramy. Wykona siÄ™ wiÄ™c podprogram BBB.o (czyli instrukcja 2) i CCC.o (czyli instrukcja 3). Dopiero po ukoÅ„czeniu tych dziaÅ‚aÅ„ wykona siÄ™ instrukcja numer 1. ZaleÅ¼noÅ›ci w podprogramach BBB.o i CCC.o, mÃ³wiÄ… o tym, Å¼e aby wykonaÄ‡ ich instrukcje, potrzebny jest plik o rozszerzeniu BBB.c i CCC.c.</p>
<p>WrÃ³Ä‡my do pisania naszego prawdziwego makefile. Potrzebujemy skompilowaÄ‡ gÅ‚Ã³wny kod programu, zawarty w pliku <code>main.c</code>, program korzysta z zewnÄ™trznie dostarczonej funkcji, opisanej w pliku <code>utilfunc.c</code>. Potrzebujemy, wiÄ™c dokonaÄ‡ kompilacji tych dwÃ³ch plikÃ³w. RobiÄ…c to rÄ™cznie napisalibyÅ›my kolejno:</p>
<div class="highlight"><pre><span></span><code>gcc -g -Wall -c main.c -o build/main.o
gcc -g -Wall -c utilfunc.c -o build/utilfunc.o
gcc -g -Wall build/main.o build/utilfunc.o -o main
</code></pre></div>

<p>Zapiszmy to w formie skryptu makefile, ktÃ³rego wykonamy poleceniem:
<code>mingw32-make Makefile main</code></p>
<p>PamiÄ™tajmy, Å¼e zostanie zamienione : </p>
<ul>
<li>CC  na "gcc"</li>
<li>DEBUGFLAGS na "-g -Wall"</li>
<li>BUILDPATH na "build"</li>
<li>OUTFILENAME na "main"</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nf">main</span><span class="o">:</span><span class="w"> </span><span class="n">main</span>.<span class="n">o</span> <span class="n">utilfunc</span>.<span class="n">o</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/main.o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/utilfunc.o<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>OUTFILENAME<span class="k">)</span><span class="w"> </span>

<span class="nf">main.o</span><span class="o">:</span><span class="w"> </span><span class="n">main</span>.<span class="n">c</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span>-c<span class="w"> </span>main.c<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/main.o

<span class="nf">utilfunc.o</span><span class="o">:</span><span class="w"> </span><span class="n">utilfunc</span>.<span class="n">c</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span>-c<span class="w"> </span>utilfunc.c<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/utilfunc.o
</code></pre></div>

<p>Jak sam widzisz, caÅ‚e skÅ‚adanie gotowego pliku wykonawczego, musi zostaÄ‡ poprzedzone wygenerowaniem plikÃ³w .o z kodu main.c i kodu w utilfunc.c.</p>
<p>Dodajmy jeszcze moÅ¼liwoÅ›Ä‡ czyszczenia plikÃ³w wygenerowanych w folderze <code>build</code></p>
<div class="highlight"><pre><span></span><code><span class="nf">clean</span><span class="o">:</span>
<span class="w">    </span>del<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span><span class="se">\*</span>.o
</code></pre></div>

<p><em>ÅšcieÅ¼ki plikÃ³w w makefile podajemy korzystajÄ…c z '/', a Å›cieÅ¼ki dla poleceÅ„ w wierszu poleceÅ„ (Windows) '\'</em>.
CaÅ‚y gotowy <code>Makefile</code>powinien prezentowaÄ‡ siÄ™ nastÄ™pujÄ…co:</p>
<div class="highlight"><pre><span></span><code><span class="c"># -*- MakeFile -*-</span>
<span class="nv">CC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>gcc#Informacja<span class="w"> </span>o<span class="w"> </span>tym,<span class="w"> </span>jakiego<span class="w"> </span>kompilatora<span class="w"> </span>uÅ¼ywamy
<span class="nv">BUILDPATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>build#ÅšcieÅ¼ka<span class="w"> </span><span class="k">do</span><span class="w"> </span>folderu,<span class="w"> </span>gdzie<span class="w"> </span>bÄ™dÄ…<span class="w"> </span>generowane<span class="w"> </span>pliki<span class="w"> </span>.o
<span class="nv">OUTFILENAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>main#Nazwa<span class="w"> </span>koÅ„cowego<span class="w"> </span>pliku<span class="w"> </span>.exe
<span class="nv">FLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-Wall#Flagi<span class="w"> </span>dla<span class="w"> </span>kompilatora
<span class="nv">DEBUGFLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-g<span class="w"> </span>-Wall#Flagi<span class="w"> </span>dla<span class="w"> </span>kompilatora<span class="w"> </span>w<span class="w"> </span>przypadku<span class="w"> </span>korzystania<span class="w"> </span>z<span class="w"> </span>debugera

<span class="nf">main</span><span class="o">:</span><span class="w"> </span><span class="n">main</span>.<span class="n">o</span> <span class="n">utilfunc</span>.<span class="n">o</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/main.o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/utilfunc.o<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>OUTFILENAME<span class="k">)</span><span class="w"> </span>

<span class="nf">main.o</span><span class="o">:</span><span class="w"> </span><span class="n">main</span>.<span class="n">c</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span>-c<span class="w"> </span>main.c<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/main.o

<span class="nf">utilfunc.o</span><span class="o">:</span><span class="w"> </span><span class="n">utilfunc</span>.<span class="n">c</span>
<span class="w">    </span><span class="k">$(</span>CC<span class="k">)</span><span class="w"> </span><span class="k">$(</span>DEBUGFLAGS<span class="k">)</span><span class="w"> </span>-c<span class="w"> </span>utilfunc.c<span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span>/utilfunc.o

<span class="nf">clean</span><span class="o">:</span>
<span class="w">    </span>del<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>BUILDPATH<span class="k">)</span><span class="se">\*</span>.o
</code></pre></div>

<p>Teraz wywoÅ‚ujemy polecenie:
<code>mingw32-make Makefile main</code>, a potem chcÄ…c wyczyÅ›ciÄ‡ projekt <code>mingw32-make Makefile clean</code></p>
<p>Pliki .c rÃ³wnieÅ¼ mogÄ… byÄ‡ w pod folderach, wystarczy podaÄ‡ ich Å›cieÅ¼kÄ™ jak w przypadku, generowania plikÃ³w .o do folderu <code>build</code>.</p>
<p>W przypadku, gdy nie chcemy kompilowaÄ‡ kodu do debugowania, korzystamy ze zmiennej <code>FLAGS</code>, zamiast z <code>DEBUGFLAGS</code>.</p>
<p>TworzÄ…c odpowiednie wersje skryptÃ³w, moÅ¼emy decydowaÄ‡, czy uruchamiamy program w trybie do debugowania, czy normalnie. To jednak jest sprawa na osobny wpis.</p>
<h2>2. Konfiguracja VSCode</h2>
<p>Mamy juÅ¼ dziaÅ‚ajÄ…cy makefile. Teraz czas, na poÅ‚Ä…czenie odpowiednich akcji wymaganych do kompilacji i uruchomienia kodu w VSCode.</p>
<p><em>PamiÄ™taj, Å¼e musisz posiadaÄ‡ zainstalowane rozszerzenie C/C++ dla VSCode. Powinien on zostaÄ‡ Ci zaproponowany do instalacji automatycznie, jeÅ¼eli go nie posiadasz. UwaÅ¼am teÅ¼, Å¼e masz poprawnie skonfigurowany minGW i dodane zmienne Å›rodowiskowe do systemu. JeÅ¼eli nie, w Internecie znajdziesz mnÃ³stwo poradnikÃ³w w jaki sposÃ³b tego dokonaÄ‡ poprawnie.</em></p>
<p>Rozpocznijmy od otwarcia naszego folderu z projektem w VSCode. NastÄ™pnie, klikamy na ikonÄ™ z robaczkiem i naciskamy na symbol zÄ™batki tuÅ¼ obok zielonej strzaÅ‚ki. To wygeneruje nam plik <code>launch.json</code>.</p>
<p>Wklejamy poniÅ¼szÄ… zawartoÅ›Ä‡ do pliku:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use IntelliSense to learn about possible attributes.</span>
<span class="w">    </span><span class="c1">// Hover to view descriptions of existing attributes.</span>
<span class="w">    </span><span class="c1">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello world&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cppdbg&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;program&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/${fileBasenameNoExtension}.exe&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;stopAtEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;externalConsole&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;MIMode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gdb&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;miDebuggerPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gdb.exe&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;setupCommands&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WÅ‚Ä…cz formatowanie kodu dla gdb&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-enable-pretty-printing&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;ignoreFailures&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>

<p>Co moÅ¼emy zmieniÄ‡:
- <strong>name</strong> - Nazwa naszej konfiguracji startowej
- <strong>program</strong> - Nazwa naszego pliku wykonalnego, ktÃ³ry zostanie wygenerowany po kompilacji. Tutaj nazwa automatycznie jest wpisywana w zaleÅ¼noÅ›ci, od pliku, w ktÃ³rym klikniemy <code>F5</code>.
- <strong>args</strong> - Argumenty przekazywane do naszego pliku .exe
- <strong>externalConsole</strong> - Czy program ma uruchomiÄ‡ siÄ™ wykorzystujÄ…c zewnÄ™trznÄ… konsolÄ™.
- <strong>setupCommands</strong> - Argumenty przekazywane do debuggera GDB.</p>
<p>Czas na automatyzacjÄ™ wykonania pliku Makefile.
W utworzonym folderze .vscode dodajemy plik <code>tasks.json</code> i wklejamy do niego zawartoÅ›Ä‡:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Build&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;build&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;isDefault&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mingw32-make&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;Makefile&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;main&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>W elemencie <strong>command</strong> wpisujemy jakiego programu do przetworzenia pliku makefile bÄ™dziemy wykorzystywaÄ‡, a w elemencie <strong>args</strong> - argumenty, ktÃ³re przekaÅ¼emy.
CaÅ‚a reszta moÅ¼e pozostaÄ‡ bez zmian. Tym plikiem symulujemy rÄ™czne wpisanie w konsolÄ™ polecenia <code>mingw32-make Makefile main</code>.</p>
<p>Aby rozpoczÄ…Ä‡ kompilacjÄ™ naszego kodu korzystamy z kombinacji klawiszy <code>CTRL + SHIFT + B</code>.
NastÄ™pnie, aby rozpoczÄ…Ä‡ debugowanie <code>F5</code>.</p>
<p>JeÅ¼eli chcemy, aby przed kaÅ¼dym uruchomieniem programu wykonywana byÅ‚a kompilacja, w pliku <code>launch.json</code> dodajemy linijkÄ™:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;preLaunchTask&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Build&quot;</span>
</code></pre></div>

<p>Gdzie, <code>Build</code>, jest nazwÄ…, ktÃ³rÄ… umieÅ›ciliÅ›my w pliku <code>tasks.json</code> w polu <code>label</code>.</p>
<p>To wszystko co potrzebne nam jest do zautomatyzowania maÅ‚ych projektÃ³w. Absolutnie nie uwaÅ¼am, Å¼e robiÄ™ to w sposÃ³b uberpoprawny, aczkolwiek, dla moich zastosowaÅ„ jest to idealne rozwiÄ…zanie. Do kompilacji prostego programu, skÅ‚adajÄ…cego siÄ™ np. tylko z pliku main potrzebne nam jest parÄ™ linijek. Specjalnie w poradniku postanowiÅ‚em dodaÄ‡ kolejny plik, aby zademonstrowaÄ‡, w jaki sposÃ³b Å‚Ä…czyÄ‡ poszczegÃ³lne pliki w caÅ‚oÅ›Ä‡ tworzÄ…c makefile.</p>

    <section class="meta">
        <div class="title_block">
            <span class="title_label">
                Title:
            </span>
            <span class="title">
                VSCode Automatyzacja i tworzenie Makefile
            </span>
        </div>
        <div class="date_block">
            <span class="date_label">
                Posted on:
            </span>
            <span class="date">
                <time datetime="2019-12-23T00:00:00+01:00">23/12/2019
            </span>
        </div>
        <div class="print">
            <a href="javascript:if(window.print)window.print()">ğŸ–¨ï¸ Print</a>
        </div>
    </section>
</section>

</section>

    </main>

    <footer>
        Made with<span id="heart">&#9829;</span>
    </footer>
</body>

</html>